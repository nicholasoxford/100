(()=>{"use strict";chrome.tabs.onActivated.addListener((function(e){chrome.tabs.query({active:!0,currentWindow:!0},(function(t){chrome.tabs.sendMessage(e.tabId,{message:"update",url:t[0].url})}))})),chrome.tabs.onUpdated.addListener((function(e,t,a){t.url&&chrome.tabs.sendMessage(e,{message:"update",url:t.url})})),chrome.runtime.onMessage.addListener((function(e,t,a){if("airQualityUpdate"===e.message){chrome.action.setBadgeText({text:e.airQuality.toString()});let t="#00FF00";e.airQuality<=30?t="#00b908e0":e.airQuality<=60?t="#fffb3de0":e.airQuality<=90?t="#ffb300e0":e.airQuality<=120&&(t="#ff0000e0"),chrome.action.setBadgeBackgroundColor({color:t}),a({status:!0})}}))})();